#!/usr/bin/env ruby
require_relative '../lib/helpers'
require_relative '../lib/common'

include View
test = Helpers::RisingTide.new

hostname = "v5backup"

Dir.chdir("../")
puts "app root dir ==> " + Dir.pwd
puts "escape_html ==> " + escape_html(" less than: << ||| new line:\n ||| greater than: >>")

puts "\n\ntest.module: Model:::================"
puts "to_ip ==> " + test.to_ip(hostname).inspect
puts "ssh ==> " + test.ssh("ls -ld /etc", hostname).inspect
#------
File.open('/home/wyy/test.txt', 'w') { |f| f.write("this is a test, #{Time.now}") }
content = File.new("/home/wyy/test.txt")
puts "upload_web ==> " + test.upload_web("upload.test", content).inspect
#------
puts "upload_scp ==> " + test.upload_scp("/u/bak/test.txt", hostname).inspect
#------
puts "confile_append ==> \n"
puts test.confile_append('api-album.zip', hostname).inspect
puts test.confile_append('web-mc-manager.war', hostname).inspect

puts "\n\nclass: RisingTide:::================"
#puts "redis_flush ==> " + test.redis_flush(hostname).inspect
#puts "subfile ==> " + test.subfile("/u/bak/upload.test", content, *[hostname]).inspect
#puts "upgrade_package_from_local ==> " +  test.upgrade_package_from_local("api-album.zip", hostname).inspect



